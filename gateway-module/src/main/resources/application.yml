spring:
  application:
    name: gateway-service
  profiles:
    active: dev
  
  # Redis配置
  redis:
    host: localhost
    port: 6379
    password: 
    database: 0
    timeout: 10000ms
    lettuce:
      pool:
        max-active: 8
        max-wait: -1ms
        max-idle: 8
        min-idle: 0
  
  # Spring Cloud Gateway配置
  cloud:
    gateway:
      routes:
        - id: auth-service
          uri: http://localhost:8081
          predicates:
            - Path=/auth/**
        - id: user-service
          uri: http://localhost:8082
          predicates:
            - Path=/user/**
        - id: file-service
          uri: http://localhost:8083
          predicates:
            - Path=/file/**
        - id: admin-service
          uri: http://localhost:8084
          predicates:
            - Path=/admin/**

# JWT配置
jwt:
  secret: mySecretKey123456789012345678901234567890
  expiration: 86400

# 服务端口 - 网关入口
server:
  port: 8080

# 日志配置
logging:
  level:
    com.example.gateway: debug
  pattern:
    console: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{50} - %msg%n"
    file: "%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{50} - %msg%n"
  file:
    name: logs/gateway-service.log
